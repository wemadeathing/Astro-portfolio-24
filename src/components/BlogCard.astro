---
interface Props {
  title: string;
  image: string;
  slug: string;
  kicker?: string;
  pubDate?: Date;
  readingTime?: string;
}

const { title, image, slug, kicker, pubDate, readingTime } = Astro.props;

const formattedDate = pubDate
  ? new Intl.DateTimeFormat('en-US', { month: 'short', day: 'numeric', year: 'numeric' }).format(pubDate)
  : null;
---

<a
  href={`/blog/${slug}`}
  class="group block rounded-[24px] border border-white/[0.12] bg-[#08080c]/95 overflow-hidden shadow-[0_18px_40px_rgba(0,0,0,0.65)] transition-all hover:-translate-y-0.5 hover:border-white/30 focus:outline-none focus-visible:ring-4 focus-visible:ring-primary/20"
>
  <div class="aspect-video overflow-hidden bg-white/5 relative">
    <div class="absolute inset-0 skeleton-image" aria-hidden="true"></div>
    <img
      src={image}
      alt={title}
      class="relative w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
      loading="lazy"
      decoding="async"
      onload="this.parentElement.querySelector('.skeleton-image').style.display='none'"
    />
  </div>
  <div class="px-4 pb-5 pt-4">
    {kicker ? (
      <div class="text-[11px] tracking-[0.22em] uppercase text-white/55 line-clamp-1">
        {kicker}
      </div>
    ) : null}
    <h2 class:list={[
      'text-[15px] sm:text-base font-semibold text-white/92 group-hover:text-primary transition-colors line-clamp-3 leading-snug',
      kicker ? 'mt-2' : '',
    ]}>
      {title}
    </h2>
    {(formattedDate || readingTime) && (
      <p class="mt-2 text-xs text-white/55">
        {formattedDate}{formattedDate && readingTime && ' â€¢ '}{readingTime}
      </p>
    )}
  </div>
</a>
